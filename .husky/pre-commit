#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing'

# Run lint-staged to check linting, formatting, and TypeScript
npx lint-staged --config lint-staged.config.js

# Check if lint-staged failed
if [ $? -ne 0 ]; then
    echo 'ğŸš«ğŸš«ğŸš« lint-staged check failed. ğŸš«ğŸš«ğŸš«'
    exit 1
fi

# If everything passes... Now we can commit
echo 'ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”... Alright! Code looks good to me... âœ…âœ…âœ…âœ… You win this time ... I am committing this now. âœ…âœ…âœ…âœ… ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”'
